<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë°©ì†¡ ìƒíƒœ ì„¤ì •</title>
  <style>
    body{background:#0b0b0b;color:#fff;font-family:"Noto Sans KR",sans-serif;padding:24px}
    h1{margin:0 0 14px}
    .row{display:flex;gap:10px;align-items:center;margin:10px 0}
    select,input{padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.15);background:#121212;color:#fff}
    input{width:100%}
    button{padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:800}
    .primary{background:#1e7bff;color:#fff}
    .danger{background:#ff3b3b;color:#fff}
    #status{margin-top:10px;opacity:.85}
  </style>
</head>
<body>

<h1>ğŸ”´ ë°©ì†¡ ìƒíƒœ ë°°ì§€</h1>

<div class="row">
  <label>ëª¨ë“œ</label>
  <select id="mode">
    <option value="live">ìƒë°©ì†¡(Live)</option>
    <option value="recorded">ë…¹í™”ë°©ì†¡</option>
    <option value="off">ìˆ¨ê¹€</option>
  </select>

  <button class="primary" onclick="save()">ì €ì¥</button>
</div>

<div class="row">
  <label>í‘œì‹œ ë¬¸êµ¬(ì„ íƒ)</label>
  <input id="text" placeholder="ì˜ˆ) ìƒë°©ì†¡ì¤‘ Live! / ë…¹í™”ë°©ì†¡ì¤‘" />
</div>

<div id="status">ëŒ€ê¸°ì¤‘</div>

<script>
async function save(){
  const mode = document.getElementById("mode").value;
  const text = document.getElementById("text").value.trim();

  await fetch("/api/live", {
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body: JSON.stringify({ enabled:true, mode, text })
  });

  document.getElementById("status").innerText = "âœ… ì €ì¥ë¨";
}
</script>

</body>
</html>
